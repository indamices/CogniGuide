# CogniGuide 语音交互功能使用指南

## 概述

CogniGuide现已集成完整的语音输入(STT)和语音朗读(TTS)功能，提供多模态学习体验。

## 功能特性

### 1. 语音输入 (Speech-to-Text)

**核心功能：**
- 实时语音识别
- 支持中英文自动切换
- 识别结果实时显示
- 防抖处理，避免重复输入

**使用方法：**
1. **麦克风按钮**：点击输入框右侧的麦克风图标开始/停止录音
2. **空格键快捷键**：当输入框为空时，按下空格键即可开始录音
3. **实时预览**：录音时会显示临时识别结果（灰色）和最终结果（黑色）
4. **自动填充**：停止录音后，识别内容自动填充到输入框

**识别状态指示：**
- 🎤 静态图标：未开始录音
- 🔴 脉冲动画 + 红色圆点：正在聆听
- 📝 弹出窗口：显示实时识别文本

### 2. 语音朗读 (Text-to-Speech)

**核心功能：**
- AI回复内容朗读
- 暂停/继续/停止控制
- 可调节语速、音调、音量
- 多种声音选择
- 高亮显示正在朗读的消息

**使用方法：**
1. 点击AI消息左侧的 🔊 图标开始朗读
2. 朗读中图标变为暂停/播放按钮
3. 悬停显示详细控制面板（停止按钮、进度条）

**朗读状态：**
- 🔊 扬声器图标：未开始朗读
- ⏸ 暂停图标：正在朗读
- ▶ 播放图标：已暂停
- 🔵 蓝色圆点：正在朗读的消息

### 3. 语音控制面板

**打开方式：**
- 点击聊天界面右上角的齿轮图标 ⚙️

**可调节参数：**
- **语速**：0.5x - 2x（慢速讲解、正常、快速）
- **音调**：0 - 2（低、正常、高）
- **音量**：0 - 100%
- **声音选择**：
  - 中文声音（女声、男声）
  - 英文声音
  - 其他语言声音

**快速预设：**
- 慢速讲解：0.8x 语速，适合复杂概念
- 正常：1.0x 语速，日常使用
- 快速：1.5x 语速，快速浏览

## 技术特性

### 浏览器兼容性

**完全支持：**
- ✅ Chrome 25+
- ✅ Edge 79+
- ✅ Safari 14.1+

**部分支持：**
- ⚠️ Firefox（仅语音合成，不支持语音识别）
- ⚠️ Opera（基于Chromium版本）

### 隐私保护

- ✅ 语音数据**不上传**到服务器
- ✅ 完全在本地浏览器处理
- ✅ 不收集任何录音数据
- ✅ 需要麦克风权限才能使用语音输入

### 性能优化

- ✅ 防抖处理，避免重复输入
- ✅ 防止多条消息同时朗读冲突
- ✅ 实时语音识别，响应迅速
- ✅ 优雅降级，不支持的浏览器自动隐藏功能

## 常见问题

### Q1: 无法使用语音输入？

**检查清单：**
1. 确认浏览器支持（推荐Chrome/Edge）
2. 检查麦克风权限是否允许
3. 刷新页面重新请求权限
4. 确认麦克风设备正常工作

**解决方法：**
- 点击地址栏左侧的锁图标 → 允许麦克风
- 在浏览器设置中 → 隐私和安全 → 网站设置 → 麦克风

### Q2: 语音识别不准确？

**优化建议：**
1. 在安静环境中使用
2. 靠近麦克风清晰发音
3. 语速适中，不要过快
4. 确认网络连接（语音识别需要网络）

### Q3: 无法朗读AI回复？

**检查清单：**
1. 确认浏览器支持语音合成
2. 检查音量设置
3. 尝试切换不同的声音
4. 重启浏览器

### Q4: 朗读声音不自然？

**调整方法：**
1. 打开语音控制面板
2. 调整语速（推荐0.8-1.2）
3. 调整音调（推荐0.9-1.1）
4. 尝试不同的声音选项

## 使用场景

### 1. 语言学习
- 听AI讲解语法概念
- 模仿发音练习
- 多语言内容朗读

### 2. 通勤学习
- 解放双眼，边听边学
- 暂停/继续灵活控制
- 调节语速适应理解

### 3. 视觉辅助
- 减少眼睛疲劳
- 多感官输入增强记忆
- 适合长时间学习

### 4. 无障碍访问
- 视觉障碍用户
- 运动障碍用户
- 学习障碍辅助

## 快捷键汇总

| 按键 | 功能 | 条件 |
|------|------|------|
| **空格** | 开始/停止录音 | 输入框为空 |
| **Enter** | 发送消息 | - |
| **Shift + Enter** | 换行 | - |
| **↑ / ↓** | 浏览历史输入 | - |
| **Ctrl + K** | 清空输入 | - |

## 最佳实践

1. **学习新概念**：使用慢速讲解（0.8x）
2. **复习旧知识**：使用快速（1.5x）
3. **语言学习**：选择对应语言声音
4. **长时间学习**：定期暂停，保护嗓子
5. **多模态学习**：语音 + 视觉结合效果最佳

## 未来规划

- [ ] 支持音频文件导入
- [ ] 支持朗读导出为MP3
- [ ] 自定义语音模型
- [ ] 多人对话模式
- [ ] 实时语音翻译

## 技术支持

遇到问题？请联系开发团队或提交Issue：
- GitHub Issues
- 邮件支持

---

**最后更新**: 2026-02-06
**版本**: v1.0.6
